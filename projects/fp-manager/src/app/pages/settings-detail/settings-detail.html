<p-breadcrumb [home]="home" [model]="items" />

@if (decodedSettings(); as settings) {
<!-- Settings Cards -->
<div class="cards">
  <app-exposure-settings [fieldTree]="settingsForm.exposure" />
  <app-iso-settings [fieldTree]="settingsForm.iso" />
  <app-drive-settings [fieldTree]="settingsForm.drive" />
  <app-white-balance-settings [fieldTree]="settingsForm.whiteBalance" />
</div>

<!-- Action Buttons -->
<div class="submit-container">
  <p-button label="Show QR Code" icon="pi pi-qrcode" severity="secondary" (onClick)="showQrCode()" />
  <p-button label="Save Settings" icon="pi pi-save" (onClick)="onSubmit()" />
</div>

<!-- QR Code Display Dialog -->
<app-qr-display-dialog
  #qrDisplayDialog
  [title]="settings.shootingModeName"
  [qrCodeData]="storedSettings()?.qrCodeData ?? null"
/>
} @else {
<!-- Not Found State -->
<div class="not-found">
  <span class="pi pi-times-circle"></span>
  <h2>Settings not found</h2>
  <p>The settings you are looking for do not exist.</p>
  <a color="primary" routerLink="/">Go Back Home</a>
</div>
}
